<div class="flex items-center justify-between mb-3">
    <div class="text-xs text-slate-400">SSE 연결</div>
    <button
        type="button"
        hx-post="/backup/stop"
        hx-trigger="click"
        hx-swap="none"
        class="inline-flex items-center gap-1.5 rounded border border-red-500/40 bg-red-500/10 px-2.5 py-1.5 text-xs font-semibold text-red-500 hover:bg-red-500/20 hover:border-red-500/60 transition-all"
    >
        <svg class="w-3 h-3 fill-current" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16"/></svg>
        <span class="leading-none">중지</span>
    </button>
</div>

<div id="sse-log-container" hx-ext="sse" sse-connect="/backup/run_sse?{{ params }}" sse-swap="message" hx-swap="beforeend" class="bg-slate-900 text-slate-300 font-mono text-xs p-4 rounded-md max-h-96 overflow-y-auto flex flex-col gap-1">
    <div class="text-emerald-400 animate-pulse mb-2">연결 중...</div>
</div>

<script>
    (function() {
        const container = document.getElementById('sse-log-container');
        const observer = new MutationObserver(() => {
            container.scrollTop = container.scrollHeight;
        });
        observer.observe(container, { childList: true });
    })();
</script>
